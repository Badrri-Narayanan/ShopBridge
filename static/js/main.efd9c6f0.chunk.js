(this.webpackJsonpshopbridge=this.webpackJsonpshopbridge||[]).push([[0],{39:function(t,e,n){},40:function(t,e,n){},46:function(t,e,n){},47:function(t,e,n){},48:function(t,e,n){},51:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),i=n(16),a=n.n(i),o=(n(39),n(18)),s=n(19),u=n(23),l=n(21),d=(n(40),n(3)),p=n(8),j={SET_PRODUCTS:"SET_PRODUCTS",FETCH_PRODUCT_START:"FETCH_PRODUCT_START",FETCH_PRODUCT_SUCCESS:"FETCH_PRODUCT_SUCCESS",FETCH_PRODUCT_FAILURE:"FETCH_PRODUCT_FAILURE"},b=function(){return function(t){t({type:j.FETCH_PRODUCT_START}),fetch("https://shopbridge.herokuapp.com/").then((function(t){return t.json()})).then((function(e){return t({type:j.FETCH_PRODUCT_SUCCESS,payload:e})})).catch((function(e){return t((n=e.message,{type:j.FETCH_PRODUCT_FAILURE,payload:n}));var n}))}},h=function(t){return"\u20b9 "+Number(t.toFixed(2)).toLocaleString()+" "},m={ADD_CART_ITEM:"ADD_CART_ITEM",REMOVE_CART_ITEM:"REMOVE_CART_ITEM"},O=n(1),f=Object(p.b)(null,(function(t){return{AddItemToCart:function(e){return t({type:m.ADD_CART_ITEM,payload:e})}}}))((function(t){var e=t.product,n=t.AddItemToCart;return Object(O.jsx)("div",{className:"col-md-4",sytle:{height:"900px",width:"550px"},children:Object(O.jsxs)("div",{className:"thumbnail text-center",children:[Object(O.jsxs)("a",{href:"#".concat(e.id),onClick:function(){return n(e)},children:[Object(O.jsx)("img",{src:e.imgUrl,alt:e.title,style:{width:"500px",height:"250px"}}),Object(O.jsx)("p",{style:{color:"lightyellow"},children:e.title})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:"Description"}),Object(O.jsx)("p",{children:e.description}),Object(O.jsx)("hr",{}),Object(O.jsx)("b",{children:h(e.price)}),Object(O.jsx)("button",{className:"btn btn-primary",onClick:function(){return n(e)},children:"Add to Cart"})]})]})},e.id)})),x=Object(p.b)((function(t){return{products:t.products_list.products}}),(function(t){return{fetchProductsFromBackend:function(e){return t(b())}}}))((function(t){var e=t.fetchProductsFromBackend,n=t.products;return Object(r.useEffect)((function(){e()}),[e]),Object(O.jsx)("div",{className:"row",children:n.map((function(t,e){return Object(O.jsx)(f,{product:t},e)}))})})),g=(n(46),function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.call(this)).handleSort=function(e){t.setState({sort:e.target.value}),t.filterList()},t.handleRemoveFromCart=function(e,n){t.setState((function(e){var r=t.state.cartItems.filter((function(t){return t.id!==n.id}));return localStorage.setItem("cartItems",JSON.stringify(r)),{cartItems:r}}))},t.filterList=function(){t.setState((function(e){return""!==t.state.sort?t.state.products.sort((function(e,n){return"lowest"===t.state.sort?e.price<n.price?1:-1:e.price>n.price?1:-1})):t.state.products.sort((function(t,e){return t.id<e.id?1:-1})),{filteredProduct:t.state.products}}))},t.state={filteredProduct:[],sort:""},t}return Object(s.a)(n,[{key:"render",value:function(){return Object(O.jsx)("div",{className:"homepage",children:Object(O.jsx)(x,{isButtonDisabled:this.state.isButtonDisabled})})}}]),n}(c.a.Component)),v=n(12),C=n(2),T=n(22),y=n(34),E=function(t){var e=t.labelName,n=Object(y.a)(t,["labelName"]);return Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{children:e}),Object(O.jsx)("input",Object(C.a)({},n))]})},_=function(){var t=Object(r.useState)({title:"",description:"",price:"",imgurl:""}),e=Object(T.a)(t,2),n=e[0],c=e[1],i=function(t){var e=t.target,r=e.value,i=e.id;c(Object(C.a)(Object(C.a)({},n),{},Object(v.a)({},i,r)))};return Object(O.jsxs)("form",{onSubmit:function(t){return function(t){t.preventDefault(),fetch("https://shopbridge.herokuapp.com/",{method:"post",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({title:n.title,description:n.description,price:n.price,imgurl:n.imgurl})}).then((function(t){return t.json()})).then((function(t){alert(t),c({title:"",description:"",price:"",imgurl:""})}))}(t)},children:[Object(O.jsx)(E,{labelName:"Enter Product Title",type:"text",className:"form-control",id:"title",value:n.title,onChange:function(t){return i(t)},placeholder:"Title",required:!0}),Object(O.jsx)(E,{labelName:"Enter Description",type:"text",className:"form-control",id:"description",value:n.description,onChange:function(t){return i(t)},placeholder:"Description",required:!0}),Object(O.jsx)(E,{labelName:"Enter Price",type:"number",className:"form-control",id:"price",value:n.price,onChange:function(t){return i(t)},placeholder:"Price",required:!0}),Object(O.jsx)(E,{labelName:"Enter Image URL",type:"text",className:"form-control",id:"imgurl",value:n.imgurl,onChange:function(t){return i(t)},placeholder:"Image URL",required:!0}),Object(O.jsx)("input",{type:"submit",value:"Submit"})]})},N=function(){var t=Object(r.useState)({title:"",description:"",price:"",imgurl:"",new_title:""}),e=Object(T.a)(t,2),n=e[0],c=e[1],i=function(t){var e=t.target,r=e.value,i=e.id;c(Object(C.a)(Object(C.a)({},n),{},Object(v.a)({},i,r)))},a=function(t){t.preventDefault(),!function(){var t=!0;for(var e in n)""!==n[e]&&"title"!==e&&(t=!1);return t}()?fetch("https://shopbridge.herokuapp.com/",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:n.title,new_title:n.new_title,description:n.description,price:n.price,imgurl:n.imgurl})}).then((function(t){return t.json()})).then((function(t){alert(t),c({title:"",description:"",price:"",imgurl:"",new_title:""})})):alert("Invalid update request!\nAtleast one optional field must contain an updated value")};return Object(O.jsxs)("form",{onSubmit:function(t){return a(t)},children:[Object(O.jsx)(E,{labelName:"Enter the Product Title you want to Edit/Update below:",type:"text",className:"form-control",id:"title",value:n.title,onChange:function(t){return i(t)},placeholder:"title",required:!0}),Object(O.jsx)(E,{labelName:"Enter New Product Title (*Optional)",type:"text",className:"form-control",id:"new_title",value:n.new_title,onChange:function(t){return i(t)},placeholder:"new title"}),Object(O.jsx)(E,{labelName:"Enter New Desciption (*Optional)",type:"text",className:"form-control",id:"description",value:n.description,onChange:function(t){return i(t)},placeholder:"description"}),Object(O.jsx)(E,{labelName:"Enter New Price (*Optional)",type:"text",className:"form-control",id:"price",value:n.price,onChange:function(t){return i(t)},placeholder:"price"}),Object(O.jsx)(E,{labelName:"Enter New Image URL (*Optional)",type:"text",className:"form-control",id:"imgurl",value:n.imgurl,onChange:function(t){return i(t)},placeholder:"image url"}),Object(O.jsx)("input",{type:"submit",value:"Submit"})]})},R=(n(47),Object(p.b)((function(t){return{cartItems:t.cart_items.cartItems}}),(function(t){return{RemoveItemFromCart:function(e){return t(function(t){return{type:m.REMOVE_CART_ITEM,payload:t}}(e))}}}))((function(t){var e=t.cartItems,n=t.RemoveItemFromCart;return Object(O.jsxs)("div",{className:"alert alert-info",children:[0===e.length?"Cart is Empty":Object(O.jsxs)("div",{children:["You have ",e.length," products in the basket"]}),e.length>0&&Object(O.jsxs)("div",{children:[Object(O.jsx)("ul",{children:e.map((function(t){return Object(O.jsxs)("li",{children:[Object(O.jsx)("b",{children:t.title}),"X ",t.quantity," = ",t.price*t.quantity,Object(O.jsx)("button",{onClick:function(){return n(t)},className:"btn btn-danger",children:"X"})]},"".concat(t.id))}))}),"Total:",h(e.reduce((function(t,e){return t+e.price*e.quantity}),0)),Object(O.jsx)("button",{className:"btn btn-primary",onClick:function(){return alert("Proceeding to Payment")},children:"Check Out"})]})]})}))),S=n(13),I=(n(48),function(){return Object(O.jsxs)("div",{className:"alert alert-info menu",children:[Object(O.jsx)("div",{className:"menu-item",children:Object(O.jsx)(S.b,{to:"/shopbridge",children:"Home"})}),Object(O.jsx)("div",{className:"menu-item",children:Object(O.jsx)(S.b,{to:"/shopbridge/add-products",children:"Add Products"})}),Object(O.jsx)("div",{className:"menu-item",children:Object(O.jsx)(S.b,{to:"/shopbridge/update-products",children:"Update Products"})})]})}),D=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(O.jsxs)("div",{className:"container app",children:[Object(O.jsx)("h1",{children:"Shop Bridge App"}),Object(O.jsxs)("div",{className:"app-body",children:[Object(O.jsxs)("div",{className:"header",children:[Object(O.jsx)(I,{}),Object(O.jsx)(d.a,{exact:!0,path:"/shopbridge",component:g}),Object(O.jsx)(d.a,{exact:!0,path:"/shopbridge/add-products",component:_}),Object(O.jsx)(d.a,{exact:!0,path:"/shopbridge/update-products",component:N})]}),Object(O.jsx)("div",{className:"panel panel-primary cart",children:Object(O.jsx)(R,{})})]})]})}}]),n}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P=n(9),U=(n(50),n(32)),w=n(33),A=function(t,e){return function(t,e){var n=!1;return t.forEach((function(t){t.id===e.id&&(n=!0)})),n}(t,e)?t.map((function(t){return t.id===e.id?Object(C.a)(Object(C.a)({},t),{},{quantity:t.quantity+1}):t})):[].concat(Object(w.a)(t),[Object(C.a)(Object(C.a)({},e),{},{quantity:1})])},F=function(t,e){return 1===e.quantity?(console.log(e),t.filter((function(t){return t.id!==e.id}))):t.map((function(t){return t.id===e.id?Object(C.a)(Object(C.a)({},e),{},{quantity:e.quantity-1}):t}))},k={cartItems:[]},q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case m.ADD_CART_ITEM:return Object(C.a)(Object(C.a)({},t),{},{cartItems:A(t.cartItems,e.payload)});case m.REMOVE_CART_ITEM:return Object(C.a)(Object(C.a)({},t),{},{cartItems:F(t.cartItems,e.payload)});default:return t}},M={products:[],isFetching:!1,errorMessage:void 0},H=Object(P.c)({products_list:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case j.SET_PRODUCTS:return Object(C.a)(Object(C.a)({},t),{},{products:e.payload});case j.FETCH_PRODUCT_START:return Object(C.a)(Object(C.a)({},t),{},{isFetching:!0});case j.FETCH_PRODUCT_SUCCESS:return Object(C.a)(Object(C.a)({},t),{},{products:e.payload,isFetching:!1});case j.FETCH_PRODUCT_FAILURE:return Object(C.a)(Object(C.a)({},t),{},{isFetching:!1,errorMessage:e.payload});default:return t}},cart_items:q}),L=[U.a];var B=Object(P.d)(H,P.a.apply(void 0,L));a.a.render(Object(O.jsx)(p.a,{store:B,children:Object(O.jsx)(S.a,{children:Object(O.jsx)(D,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[51,1,2]]]);
//# sourceMappingURL=main.efd9c6f0.chunk.js.map